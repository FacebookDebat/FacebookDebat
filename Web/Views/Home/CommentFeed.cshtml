@{
    Layout = null;
}


<h2>Kommentar-feed</h2>
<style>
    .person {
        font-weight: bold;
    }

    .animate.ng-enter {
        opacity: 0;
    }

    .animate.ng-enter.animate.ng-enter-active {
        opacity: 1;
    }
</style>
<br />

<div ng-controller="CommentFeedController">
    <div class="commentfeed">
        <div class="feeditem" ng-repeat="item in feed">
            <div class="time">
                <center>{{item.date | date:'HH:mm'}}</center>
            </div>
            <div class="post">
                <div class="person">{{item.post_name}}</div>
                <div class="txt">{{item.post.trunc(150, true)}}</div>
            </div>
            <div class="comment">
                <div class="person">{{item.commenter_name}}</div>
                <div class="bar" ng-show="item.blalikes != null && item.rodlikes != null">
                    <div class="bluebar" ng-style="{width: {{item.blalikes*100/(item.blalikes+item.rodlikes)}} + '%'}" />
                    <div class="redbar" ng-style="{width: {{item.rodlikes*100/(item.blalikes+item.rodlikes)}} + '%'}" />
                </div>
                <div class="likecount" ng-show="item.blalikes != null && item.rodlikes != null">
                    {{item.blalikes+item.rodlikes}}
                </div>
                <div class="txt">{{item.comment}}</div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="clearfix"></div>
</div>